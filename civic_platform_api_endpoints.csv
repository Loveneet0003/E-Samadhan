Method,Endpoint,Description,Auth Required,Request Body Example,Response Example
POST,/auth/register,Register new user (citizen/official),No,"{""name"": ""John Doe"", ""email"": ""john@example.com"", ""password"": ""password123"", ""role"": ""citizen""}","{""userId"": ""123"", ""message"": ""User registered successfully""}"
POST,/auth/login,Authenticate user and return JWT token,No,"{""email"": ""john@example.com"", ""password"": ""password123""}","{""token"": ""jwt_token_here"", ""user"": {""id"": ""123"", ""email"": ""john@example.com"", ""role"": ""citizen""}}"
GET,/auth/profile,Get user profile information,Yes,None,"{""id"": ""123"", ""name"": ""John Doe"", ""email"": ""john@example.com"", ""role"": ""citizen""}"
PUT,/auth/profile,Update user profile,Yes,"{""name"": ""John Smith"", ""phone"": ""+1234567890""}","{""message"": ""Profile updated successfully""}"
DELETE,/auth/logout,Logout and invalidate token,Yes,None,"{""message"": ""Logged out successfully""}"
POST,/issues,Submit new civic issue report,Yes,"{""title"": ""Pothole on Main St"", ""description"": ""Large pothole"", ""category"": ""roads"", ""location"": {""lat"": 40.7128, ""lng"": -74.0060}, ""image"": ""base64string""}","{""issueId"": ""456"", ""trackingNumber"": ""TRK789"", ""message"": ""Issue submitted successfully""}"
GET,/issues,Get all issues (with filtering),Optional,None,"{""issues"": [{""id"": ""456"", ""title"": ""Pothole"", ""status"": ""open"", ""createdAt"": ""2024-01-01T00:00:00Z""}], ""total"": 1, ""page"": 1}"
GET,/issues/{id},Get specific issue details,Optional,None,"{""id"": ""456"", ""title"": ""Pothole on Main St"", ""description"": ""Large pothole"", ""status"": ""open"", ""upvotes"": 5}"
PUT,/issues/{id},Update issue details,Yes,"{""title"": ""Updated title"", ""description"": ""Updated description""}","{""message"": ""Issue updated successfully""}"
DELETE,/issues/{id},Delete issue report,Yes,None,"{""message"": ""Issue deleted successfully""}"
GET,/issues/{id}/status,Get current issue status,Optional,None,"{""status"": ""in_progress"", ""lastUpdated"": ""2024-01-01T12:00:00Z"", ""assignedTo"": ""John Official""}"
PUT,/issues/{id}/status,Update issue status (officials only),Yes (Official),"{""status"": ""in_progress"", ""assignedTo"": ""official123"", ""notes"": ""Work started""}","{""message"": ""Status updated successfully"", ""newStatus"": ""in_progress""}"
POST,/issues/{id}/upvote,Upvote/validate an issue,Yes,None,"{""message"": ""Upvote recorded"", ""totalUpvotes"": 6}"
GET,/departments,Get all departments,Optional,None,"{""departments"": [{""id"": ""1"", ""name"": ""Roads Department"", ""issueCount"": 25}]}"
POST,/departments,Create new department,Yes (Admin),"{""name"": ""Roads Department"", ""description"": ""Handles road infrastructure""}","{""departmentId"": ""1"", ""message"": ""Department created successfully""}"
PUT,/departments/{id},Get department details,Yes (Admin),None,"{""id"": ""1"", ""name"": ""Roads Department"", ""description"": ""Handles road infrastructure"", ""issueCount"": 25}"
DELETE,/departments/{id},Update department information,Yes (Admin),"{""name"": ""Updated Department Name""}","{""message"": ""Department updated successfully""}"
GET,/users,Get all users (admin only),Yes (Admin),None,"{""users"": [{""id"": ""123"", ""name"": ""John Doe"", ""role"": ""citizen"", ""issueCount"": 3}], ""total"": 50}"
GET,/users/{id},Get specific user details,Yes (Admin),None,"{""id"": ""123"", ""name"": ""John Doe"", ""email"": ""john@example.com"", ""role"": ""citizen"", ""joinedAt"": ""2024-01-01""}"
POST,/users/{id}/notifications,Send notification to user,Yes (Official),"{""message"": ""Your issue has been updated"", ""type"": ""status_update""}","{""message"": ""Notification sent successfully""}"
POST,/uploads/image,Upload image/video file,Yes,FormData with file,"{""fileId"": ""file123"", ""url"": ""https://storage.example.com/file123.jpg"", ""message"": ""File uploaded successfully""}"
GET,/uploads/{fileId},Get uploaded file,Optional,None,"{""id"": ""file123"", ""originalName"": ""pothole.jpg"", ""size"": 1024576, ""uploadedAt"": ""2024-01-01T10:00:00Z""}"
PUT,/uploads/{fileId},Update file metadata,Yes,"{""description"": ""Updated file description""}","{""message"": ""File metadata updated""}"
GET,/analytics/dashboard,Get analytics dashboard data,Yes (Official),None,"{""totalIssues"": 150, ""openIssues"": 45, ""inProgressIssues"": 30, ""resolvedIssues"": 75, ""departmentStats"": {...}}"
POST,/analytics/reports,Generate custom reports,Yes (Official),"{""reportType"": ""monthly"", ""department"": ""roads""}","{""reportId"": ""report123"", ""generatedAt"": ""2024-01-01T15:00:00Z"", ""downloadUrl"": ""https://reports.example.com/report123.pdf""}"
GET,/analytics/trends,Get issue trend analysis,Yes (Official),None,"{""trends"": [{""month"": ""2024-01"", ""issueCount"": 25, ""category"": ""roads""}], ""insights"": {...}}"
